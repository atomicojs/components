import{jsx as t}from"atomico/jsx-runtime";import{c as o,useProp as r,useEffect as e,useRef as i}from"atomico";import{useResponsiveState as n}from"@atomico/hooks/use-responsive-state";import{useResizeObserverState as s}from"@atomico/hooks/use-resize-observer";function a({padding:o,position:a,transition:l,showAfterMs:c,transformTo:m,transformFrom:f,fullSizeClosed:d}){const[,h]=r("show"),p=n(a),u=n(o||"");e((()=>{c&&setTimeout(h,c,!0)}),[c]);const g=i(),b=s(g),[x,v=x]=p.split(/\s+/),w="center"==x?`left: calc( 50% - ${b?g.current.clientWidth/2:"0"}px );`:"left"==x?"left: 0%;":"right"==x?"right: 0px;":x,y="center"==v?`top: calc( 50% - ${b?g.current.clientHeight/2:"0"}px );`:"top"==v?"top: 0px;":"bottom"==v?"bottom: 0px;":v,k=()=>h(!1);return t("host",{shadowDom:!0},t("style",null,":host{--x:0px;--y:0px;--transition:1s ease all;--transform-from:scale(.9);--transform-to:scale(1)}.frame{opacity:0}:host([show]) .frame{visibility:visible;opacity:1}:host([full-size]) .frame{width:100%;height:100%;position:relative;display:block;transition:.5s ease all;background:var(--background, rgba(0,0,0,.15))}.container{max-width:100%;max-height:100%;position:fixed;box-sizing:border-box;transition:var(--transition);transform:var(--transform-from);opacity:0}.content{position:relative}:host([show]) .container{transform:var(--transform-to);opacity:1}.button{min-width:2.5rem;min-height:2.5rem;display:flex;align-items:center;justify-content:center;padding:0;border:0;position:absolute;top:.5rem;right:.5rem;background:var(--button-background, #fff);color:var(--button-color, unset);border-radius:25%;box-shadow:var(--button-shadow, 0px 0px 12px rgba(0,0,0,.1))}.button svg rect{fill:currentColor}",".container",`{${w+y+(u?"padding:"+u:"")}}`,f&&`:host{--transform-from:${f}}`,m&&`:host{--transform-from:${m}}`,l&&`:host{--transition:${l}}`),t("span",{class:"frame",onclick:d&&k},t("slot",{name:"background"}),t("div",{class:"container",ref:g},t("div",{class:"content"},t("slot",{name:"closed"},t("button",{class:"button",onclick:k},t("svg",{viewBox:"0 0 20 20",width:"20",height:"20"},t("g",{transform:"rotate(45 10 10)"},t("rect",{rx:"3",width:"20",height:"4",y:"8"}),t("rect",{rx:"3",width:"4",height:"20",x:"8"}))))),t("slot",{onclick:({target:t})=>{do{if(t.dataset&&"closed"in t.dataset)return void k()}while(t=t.parentNode)}})))))}a.props={showAfterMs:Number,padding:String,show:{type:Boolean,reflect:!0},position:{type:String,value:"center"},fullSize:{type:Boolean,reflect:!0},fullSizeClosed:Boolean,transition:String,transformTo:String,transformFrom:String};const l=o(a);customElements.define("a-modal",l);
