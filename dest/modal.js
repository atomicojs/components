import{jsx as t}from"atomico/jsx-runtime";import{c as o,useProp as r,useEffect as e,useRef as i}from"atomico";import{useResponsiveState as n}from"@atomico/hooks/use-responsive-state";import{useResizeObserverState as s}from"@atomico/hooks/use-resize-observer";function a({padding:o,position:a,transition:l,showAfterMs:c,transformTo:d,transformFrom:m,fullSizeClosed:f,buttonClosedColor:p,buttonClosedBackground:u}){const[,h]=r("show"),b=n(a),g=n(o||"");e((()=>{if(!c)return;const t=setTimeout(h,c,!0);return()=>clearTimeout(t)}),[c]);const x=i(),v=s(x),[w,y=w]=b.split(/\s+/),k="center"==w?`left: calc( 50% - ${v?x.current.clientWidth/2:"0"}px );`:"left"==w?"left: 0%;":"right"==w?"right: 0px;":w,S="center"==y?`top: calc( 50% - ${v?x.current.clientHeight/2:"0"}px );`:"top"==y?"top: 0px;":"bottom"==y?"bottom: 0px;":y,C=()=>h(!1);return t("host",{shadowDom:!0},t("style",null,":host{--x:0px;--y:0px;--transition:1s ease all;--transform-from:scale(.9);--transform-to:scale(1);visibility:visible}.frame{opacity:0}:host([show]) .frame{visibility:visible;opacity:1}:host([full-size]) .frame{width:100%;height:100%;position:fixed;display:block;transition:.5s ease all;top:0;left:0;background:var(--background, rgba(0,0,0,.15))}.container{max-width:100%;max-height:100%;position:fixed;box-sizing:border-box;transition:var(--transition);transform:var(--transform-from);opacity:0}.content{position:relative}:host([show]) .container{transform:var(--transform-to);opacity:1}.button{min-width:2.5rem;min-height:2.5rem;display:flex;align-items:center;justify-content:center;padding:0;border:0;position:absolute;top:.5rem;right:.5rem;background:var(--button-closed-background, #fff);color:var(--button-color, unset);border-radius:25%;box-shadow:var(--button-closed-shadow, 0px 0px 12px rgba(0,0,0,.1));z-index:10}.button svg rect{fill:var(--button-color, black)}",".container",`{${k+S+(g?"padding:"+g:"")}}`,m&&`:host{--transform-from:${m}}`,d&&`:host{--transform-from:${d}}`,l&&`:host{--transition:${l}}`,p&&`:host{--button-closed-color:${p}}`,u&&`:host{--button-closed-background:${u}}`),t("span",{class:"frame",onclick:f&&C},t("slot",{name:"background"}),t("div",{class:"container",ref:x,part:"container"},t("div",{class:"content"},t("slot",{name:"closed"},t("button",{class:"button",onclick:C},t("svg",{viewBox:"0 0 20 20",width:"20",height:"20"},t("g",{transform:"rotate(45 10 10)"},t("rect",{rx:"3",width:"20",height:"4",y:"8"}),t("rect",{rx:"3",width:"4",height:"20",x:"8"}))))),t("slot",{onclick:({target:t})=>{do{if(t.dataset&&"closed"in t.dataset)return void C()}while(t=t.parentNode)}})))))}a.props={showAfterMs:Number,show:{type:Boolean,reflect:!0},padding:{type:String,value:""},position:{type:String,value:"center"},fullSize:{type:Boolean,reflect:!0},fullSizeClosed:Boolean,transition:String,transformTo:String,transformFrom:String,buttonClosedColor:String,buttonClosedBackground:String};const l=o(a);customElements.define("a-modal",l);export{l as Modal};
